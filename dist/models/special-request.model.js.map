{"version":3,"sources":["../../src/models/special-request.model.js"],"names":["specialRequest","Schema","user","type","Number","ref","required","title","String","description","location","index","imgs","dueDate","Date","budget","typeOfBudget","enum","bricoler","status","default","creationDate","now","set","transform","doc","ret","options","id","_id","__v","autoIncrement","initialize","mongoose","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,IAAIC,gBAAJ,CAAW;AAC9BC,UAAM;AACFC,cAAMC,MADJ;AAEFC,aAAK,MAFH;AAGFC,kBAAU;AAHR,KADwB;AAM9BC,WAAO;AACHJ,cAAMK,MADH;AAEHF,kBAAU;AAFP,KANuB;AAU9BG,iBAAa;AACTN,cAAMK,MADG;AAETF,kBAAU;AAFD,KAViB;AAc9BI,cAAU;AACNP,cAAM,CAACC,MAAD,CADA,EACU;AAChBE,kBAAU,IAFJ;AAGNK,eAAO;AAHD,KAdoB;AAmB9BC,UAAM,CAAC;AACHT,cAAMK;AADH,KAAD,CAnBwB;AAsB9BK,aAAS;AACLV,cAAMW,IADD;AAELR,kBAAU;AAFL,KAtBqB;AA0B9BS,YAAQ;AACJZ,cAAMC;AADF,KA1BsB;AA6B9BY,kBAAc;AACVb,cAAMK,MADI;AAEVS,cAAM,CAAC,OAAD,EAAU,SAAV,EAAqB,QAArB;AAFI,KA7BgB;AAiC9BC,cAAU;AACNf,cAAMC,MADA;AAENC,aAAK;AAFC,KAjCoB;AAqC9Bc,YAAQ;AACJhB,cAAMK,MADF;AAEJS,cAAM,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,MAApC,CAFF;AAGJG,iBAAS;AAHL,KArCsB;AA0C9BC,kBAAc;AACVlB,cAAMW,IADI;AAEVM,iBAASN,KAAKQ;AAFJ;AA1CgB,CAAX,CAAvB;;AAgDAtB,eAAeuB,GAAf,CAAmB,QAAnB,EAA6B;AACzBC,eAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoBC,OAApB,EAA6B;AACpCD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;AACA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AALwB,CAA7B;;AAQAC,gCAAcC,UAAd,CAAyBC,mBAASC,UAAlC;AACAlC,eAAemC,MAAf,CAAsBJ,gCAAcI,MAApC,EAA4C;AACxCC,WAAO,iBADiC;AAExCC,aAAS;AAF+B,CAA5C;;kBAKeJ,mBAASG,KAAT,CAAe,iBAAf,EAAkCpC,cAAlC,C","file":"special-request.model.js","sourcesContent":["import mongoose, { Schema } from \"mongoose\";\nimport autoIncrement from 'mongoose-auto-increment';\n\nconst specialRequest = new Schema({\n    user: {\n        type: Number,\n        ref: 'user',\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String,\n        required: true\n    },\n    location: {\n        type: [Number], // Don't forget [0=>longitude,1=>latitude]\n        required: true,\n        index: '2d'\n    },\n    imgs: [{\n        type: String,\n    }],\n    dueDate: {\n        type: Date,\n        required: true\n    },\n    budget: {\n        type: Number\n    },\n    typeOfBudget: {\n        type: String,\n        enum: ['fixed', 'monthly', 'weekly']\n    },\n    bricoler: {\n        type: Number,\n        ref: 'user'\n    },\n    status: {\n        type: String,\n        enum: ['pendding', 'accepted', 'ignored', 'done'],\n        default: 'pendding'\n    },\n    creationDate: {\n        type: Date,\n        default: Date.now\n    }\n})\n\nspecialRequest.set('toJSON', {\n    transform: function (doc, ret, options) {\n        ret.id = ret._id;\n        delete ret._id;\n        delete ret.__v;\n    }\n});\n\nautoIncrement.initialize(mongoose.connection);\nspecialRequest.plugin(autoIncrement.plugin, {\n    model: 'special-request',\n    startAt: 1,\n});\n\nexport default mongoose.model(\"special-request\", specialRequest);"]}