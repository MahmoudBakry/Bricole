{"version":3,"sources":["../../src/models/bid.model.js"],"names":["BidSchema","Schema","user","type","Number","required","ref","bidType","String","enum","bricol","refPath","offerDescription","cost","status","default","creationDate","Date","now","set","transform","doc","ret","options","id","_id","__v","autoIncrement","initialize","mongoose","connection","plugin","model","startAt"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,IAAIC,gBAAJ,CAAW;AACzBC,UAAM;AACFC,cAAMC,MADJ;AAEFC,kBAAU,IAFR;AAGFC,aAAK;AAHH,KADmB;AAMzBC,aAAU;AACNJ,cAAOK,MADD;AAENC,cAAM,CAAC,QAAD,EAAW,aAAX;AAFA,KANe;AAUzBC,YAAQ;AACJP,cAAMC,MADF;AAEJO,iBAAS,SAFL;AAGJN,kBAAU;AAHN,KAViB;AAezBO,sBAAkB;AACdT,cAAMK,MADQ;AAEdH,kBAAU;AAFI,KAfO;AAmBzBQ,UAAM;AACFV,cAAMC,MADJ;AAEFC,kBAAU;AAFR,KAnBmB;AAuBzBS,YAAQ;AACJX,cAAMK,MADF;AAEJC,cAAM,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,CAFF;AAGJM,iBAAS;AAHL,KAvBiB;AA4BzBC,kBAAc;AACVb,cAAMc,IADI;AAEVF,iBAASE,KAAKC;AAFJ;AA5BW,CAAX,CAAlB;;AAkCAlB,UAAUmB,GAAV,CAAc,QAAd,EAAwB;AACpBC,eAAW,mBAAUC,GAAV,EAAeC,GAAf,EAAoBC,OAApB,EAA6B;AACpCD,YAAIE,EAAJ,GAASF,IAAIG,GAAb;AACA,eAAOH,IAAIG,GAAX;AACA,eAAOH,IAAII,GAAX;AACH;AALmB,CAAxB;;AAQAC,gCAAcC,UAAd,CAAyBC,mBAASC,UAAlC;AACA9B,UAAU+B,MAAV,CAAiBJ,gCAAcI,MAA/B,EAAuC;AACnCC,WAAO,KAD4B;AAEnCC,aAAS;AAF0B,CAAvC;;kBAKeJ,mBAASG,KAAT,CAAe,KAAf,EAAsBhC,SAAtB,C","file":"bid.model.js","sourcesContent":["import mongoose, { Schema } from \"mongoose\";\nimport autoIncrement from 'mongoose-auto-increment';\n\nconst BidSchema = new Schema({\n    user: {\n        type: Number,\n        required: true,\n        ref: 'user'\n    },\n    bidType : {\n        type : String, \n        enum: ['inCity', 'betweenCity'] \n    },\n    bricol: {\n        type: Number,\n        refPath: 'bidType',\n        required: true\n    },\n    offerDescription: {\n        type: String,\n        required: true\n    },\n    cost: {\n        type: Number,\n        required: true\n    },\n    status: {\n        type: String,\n        enum: ['pendding', 'accepted', 'refused'],\n        default: 'pendding'\n    },\n    creationDate: {\n        type: Date,\n        default: Date.now\n    }\n})\n\nBidSchema.set('toJSON', {\n    transform: function (doc, ret, options) {\n        ret.id = ret._id;\n        delete ret._id;\n        delete ret.__v;\n    }\n});\n\nautoIncrement.initialize(mongoose.connection);\nBidSchema.plugin(autoIncrement.plugin, {\n    model: 'bid',\n    startAt: 1,\n});\n\nexport default mongoose.model(\"bid\", BidSchema);"]}