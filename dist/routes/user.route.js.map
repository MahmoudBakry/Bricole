{"version":3,"sources":["../../src/routes/user.route.js"],"names":["requireSignIn","passport","authenticate","session","requireAuth","router","express","Router","route","post","single","UserController","validateBody","signUp","signin","get","retriveUserDetails","put","array","validateCompleteProfileBody","completeProfile","fetchAllBricolOfOneUser","retriveAllBricolsBtCityOfUser","countNumberOfBricolsOfUser","retriveAllBricolsBtCityOfBricoler","fetchAllBricolOfOneBricoler","countNumberOfBricolsOfBricoler"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA,IAAMA,gBAAgBC,mBAASC,YAAT,CAAsB,OAAtB,EAA+B,EAAEC,SAAS,KAAX,EAA/B,CAAtB;AACA,IAAMC,cAAcH,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAApB;AACA,IAAME,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,KAAP,CAAa,SAAb,EACKC,IADL,CAEI,0BAAa,OAAb,EAAsBC,MAAtB,CAA6B,KAA7B,CAFJ,EAGIC,eAAeC,YAAf,EAHJ,EAIID,eAAeE,MAJnB;;AAOAR,OAAOI,IAAP,CAAY,SAAZ,EAAuBT,aAAvB,EAAsCW,eAAeG,MAArD;;AAEAT,OAAOG,KAAP,CAAa,gBAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAeK,kBADrC;;AAGAX,OAAOG,KAAP,CAAa,iCAAb,EACKS,GADL,CACSb,WADT,EAEI,0BAAa,OAAb,EAAsBc,KAAtB,CAA4B,YAA5B,CAFJ,EAGIP,eAAeQ,2BAAf,EAHJ,EAIIR,eAAeS,eAJnB;;AAOAf,OAAOG,KAAP,CAAa,wBAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAeU,uBADrC;;AAGAhB,OAAOG,KAAP,CAAa,gCAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAeW,6BADrC;;AAGAjB,OAAOG,KAAP,CAAa,mCAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAeY,0BADrC;;AAGAlB,OAAOG,KAAP,CAAa,wCAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAea,iCADrC;;AAGAnB,OAAOG,KAAP,CAAa,gCAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAec,2BADrC;;AAGApB,OAAOG,KAAP,CAAa,2CAAb,EACKO,GADL,CACSX,WADT,EACsBO,eAAee,8BADrC;;kBAIerB,M","file":"user.route.js","sourcesContent":["import UserController from '../controllers/user.controller'\nimport express from 'express';\nimport passport from 'passport';\nimport passportService from '../services/passport';\nimport { multerSaveTo } from '../services/multer'\nconst requireSignIn = passport.authenticate('local', { session: false });\nconst requireAuth = passport.authenticate('jwt', { session: false });\nconst router = express.Router();\n\nrouter.route('/signup')\n    .post(\n    multerSaveTo('users').single('img'),\n    UserController.validateBody(),\n    UserController.signUp\n    )\n\nrouter.post(\"/signin\", requireSignIn, UserController.signin)\n\nrouter.route('/users/:userId')\n    .get(requireAuth, UserController.retriveUserDetails)\n\nrouter.route('/users/:userId/complete-profile')\n    .put(requireAuth,\n    multerSaveTo('users').array('portofolio'),\n    UserController.validateCompleteProfileBody(),\n    UserController.completeProfile)\n\n\nrouter.route('/users/:userId/bricols')\n    .get(requireAuth, UserController.fetchAllBricolOfOneUser)\n\nrouter.route('/users/:userId/bricols-bt-city')\n    .get(requireAuth, UserController.retriveAllBricolsBtCityOfUser)\n\nrouter.route('/users/:userId/bricols-statistics')\n    .get(requireAuth, UserController.countNumberOfBricolsOfUser)\n\nrouter.route('/bricolers/:bricolerId/bricols-bt-city')\n    .get(requireAuth, UserController.retriveAllBricolsBtCityOfBricoler)\n\nrouter.route('/bricolers/:bricolerId/bricols')\n    .get(requireAuth, UserController.fetchAllBricolOfOneBricoler)\n\nrouter.route('/bricolers/:bricolerId/bricols-statistics')\n    .get(requireAuth, UserController.countNumberOfBricolsOfBricoler)\n\n\nexport default router;\n\n\n"]}